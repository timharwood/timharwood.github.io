!function(){define("config",[],function(){return{FONTS:["Gilroy-Bold","Gilroy-Extra-Bold","Gilroy-Heavy"],FONT_STACK:{BASE:"#{Helvetica, Arial, sans-serif}",PRIMARY:"#{'Helvetica Neue', Helvetica, Arial, sans-serif}",SECONDARY:"#{Georgia, 'Times New Roman', sans-serif}",CODE:"#{'source code pro', monospace}"},SECTIONS:{DEFAULT:{BODY_BACKGROUND_COLOR:"#bbc0d0",BODY_COLOR:"#42424e",ACCENT_COLOR:"#f4373b",LOGO_COLOR:"#f4373b",TITLE_COLOR:"#f4373b"},INTRO:{BODY_BACKGROUND_COLOR:"#bbc0d0",BODY_COLOR:"#42424e",ACCENT_COLOR:"#f4373b",LOGO_COLOR:"#f4373b",TITLE_COLOR:"#f4373b"},EAVIS:{BODY_BACKGROUND_COLOR:"#222222",BODY_COLOR:"#fff",ACCENT_COLOR:"#36e2ae",LOGO_COLOR:"#36e2ae",TITLE_COLOR:"#fff"},ANDROID:{BODY_BACKGROUND_COLOR:"#141926",BODY_COLOR:"#00FF8D",ACCENT_COLOR:"#00FF8D",LOGO_COLOR:"#00FF8D",TITLE_COLOR:"#00FF8D"},NATIONAL_THEATRE:{BODY_BACKGROUND_COLOR:"#33f",BODY_COLOR:"#ff9",ACCENT_COLOR:"#ff9",LOGO_COLOR:"#ff9",TITLE_COLOR:"#ff9"},GUARDIAN:{BODY_BACKGROUND_COLOR:"#000E3E",BODY_COLOR:"#FF9500",ACCENT_COLOR:"#FF9500",LOGO_COLOR:"#FF9500",TITLE_COLOR:"#FF9500"}},TRANSITIONS:{BASE:{TIME:300,DELAY:300,TYPE:"ease"}},MARGINS:{TOP:{INDEX_TITLE:"33vh",PAGE_TITLE:2,PROJECT_INTRO:2}},TRANSFORM:"rotateY(0deg) translateZ(288px)",SOME_TEXT:"some text content",PATH:"some/path/to/some/file.png"}}),define("dispatcher",[],function(){"use strict";return function(){function a(a,b){d[a]=d[a]||[],d[a].push(b)}function b(a,b){a in d!=!1&&d[a].splice(d[a].indexOf(b),1)}function c(a){if(a in d!=!1)for(var b=0;b<d[a].length;b++)d[a][b].apply(Array.prototype.slice.call(arguments,1))}var d={};return{on:a,off:b,trigger:c}}}),define("domutils",["jquery"],function(a){"use strict";function b(b,c){return a(b).addClass(c)}function c(b,c){return a(b).removeClass(c)}function d(b,c){return a(b).hasClass(c)}function e(a,c){return d(a,c)?a:b(a,c)}function f(b,c){var d=[];return c||(c=document),a(c).find(b).each(function(a,b){d.push(b)}),d}function g(a,b){var c=f(a,b);return c[0]||null}function h(b,c,d){var e=g(c,d);return e?a(e).data(b):void 0}function i(b,c,d,e){var f=g(d,e);return f?a(f).data(b,c):void 0}function j(b,c){var d,e=b||"div";return d=a(document.createElement(e)),d.html(c),d}function k(b,c,d){if(b){var e=c||document;return d&&d===r?a(e).prepend(b):a(e).append(b),b}}function l(b,c,d){return a(b).attr(c,d)}function m(){return window.location.hash.substring(1)}function n(a){return a&&(window.location.hash=a.toLowerCase()),m()}function o(b,c,d,e){a(b).bind(c,function(){d.apply(e,arguments)})}function p(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}function q(a,b){window.scrollTo(a,b)}const r="start";return{isTouchable:p,getWindowHash:m,setWindowHash:n,getElements:f,getElement:g,getData:h,setData:i,createElement:j,setAttribue:l,addElementToDOM:k,bindEvent:o,addClass:b,removeClass:c,hasClass:d,setWindowPosition:q,addSingleClassInstance:e}}),define("jsutils",["jquery"],function(a){"use strict";function b(a,b,c,d){return setTimeout(function(){a.apply(c,d)},b)}return{delay:b}}),define("pagetrans",["Barba","jsutils"],function(a,b){"use strict";function c(){a.Prefetch.init(),a.Pjax.start()}function d(b,c){console.log("PageTrans.setConfigs",b,c),a.Pjax.Dom.containerClass=b,a.Pjax.Dom.wrapperId=c}function e(){h=a.BaseTransition.extend({start:function(){console.log("Barba.start",this.oldContainer,this.newContainer),a.Dispatcher.trigger("transitionStart",this),this.newContainerLoading.then(this.delayFinishToAnimate.bind(this))},delayFinishToAnimate:function(){console.log("Barba.delayFinishToAnimate",this.oldContainer,this.newContainer),a.Dispatcher.trigger("delayFinishToAnimate",this),b.delay(this.finish.bind(this),i)},finish:function(){console.log("Barba.finish",this.oldContainer,this.newContainer),this.newContainer.removeAttribute("style"),a.Dispatcher.trigger("transitionFinish",this),this.delayDoneToAnimate()},delayDoneToAnimate:function(){console.log("Barba.delayDoneToAnimate",this.oldContainer,this.newContainer),a.Dispatcher.trigger("delayDoneToAnimate",this),b.delay(this.done.bind(this),i)}}),a.Pjax.getTransition=function(){return h}}function f(a,b,f){i=f||g,d(a,b),e(),c()}const g=200;var h,i;return{init:f,get events(){return a.Dispatcher}}}),define("itemlist",["dispatcher"],function(a){"use strict";return function(b){function c(){s.trigger(r),t.onUpdate&&t.onUpdate(arguments)}function d(a,b){return t.checkEqual?t.checkEqual(a,b):a===b?!0:!1}function e(a,b){return a[b]}function f(a,b){if(!a||!b)return null;for(var c=b.length;c>0;c--)if(d(a,b[c-1]))return c-1;return null}function g(){return u}function h(){return 1>v}function i(){return v>u.length-1}function j(a){v=a,c()}function k(){return v}function l(a,b,c){return c&&a!==b&&a>-1&&a<u.length&&j(a),k()}function m(a,b,c){return l(b+a,b,c)}function n(){return u&&v>-1?e(u,v):null}function o(a,b,c){var d=f(a,c);return l(d,b,c)}function p(){s=new a}function q(){p(),u=b,v=u.length>0?0:-1}const r="update";var s,t,u=[],v=-1;return t={get events(){return s},get items(){return g()},get atStart(){return h()},get atEnd(){return i()},get currentItem(){return n()},set currentItem(a){return o(a,k(),g())},get currentIndex(){return k()},set currentIndex(a){return l(a,k(),g())},next:function(){return m(1,k(),g())},prev:function(){return m(-1,k(),g())},checkEqual:null,onUpdate:null},b&&Array.isArray(b)?(q(),t):null}}),define("nav",["domutils","itemlist","dispatcher"],function(a,b,c){"use strict";return function(){function d(a){v.trigger(a)}function e(){return z.items}function f(){return z.currentItem}function g(a){a!==z.currentItem&&(z.currentItem=a)}function h(a){z&&0!==a&&(a>0?z.next():z.prev())}function i(a,b,c){return B?!1:(y=new a(b),y.addItems(c),B=!0,void d("typeMenuInitialised"))}function j(a){return y?!1:(y=a,void(u&&z&&i(y,u,z)))}function k(a,b){return C?!1:(w=new a(b,{recognizers:[[a.Swipe,{direction:a.DIRECTION_HORIZONTAL}]]}),w.on("swipeleft",function(){h(1)}),w.on("swiperight",function(){h(-1)}),C=!0,void d("touchControllerInitialised"))}function l(a){return w?!1:(w=a,void(u&&k(w,u)))}function m(a,b){return D?!1:(x=new a,x.init(b),x.events.on("next",function(){h(1)}),x.events.on("previous",function(){h(-1)}),D=!0,void d("mouseControllerInitialised"))}function n(a){return x?!1:(x=a,void(u&&m(x,u)))}function o(a){var b=[];return a.forEach(function(a){a&&a.id&&b.push(a.id)}),b}function p(a,c){var e=new b(a);return e.events.on("update",function(){d("sectionUpdate")}),e}function q(){v=new c}function r(){q()}function s(b,c,e){var f;return b&&c&&!A?(u=a.getElement(b),f=o(a.getElements(c,u)),z=p(f,e),e&&g(e),d("sectionUpdate"),u&&w&&k(w,u),u&&x&&m(x,u),u&&y&&z&&i(y,u,z),void(A=!0)):!1}var t,u,v,w,x,y,z,A=!1,B=!1,C=!1,D=!1;return t={init:s,addTouchController:l,addMouseController:n,addTypeMenu:j,get events(){return v},get sections(){return e()},get section(){return f()},set section(a){return g(a)}},r(),t}}),define("prevnext",["domutils","dispatcher"],function(a,b){"use strict";const c="initialised",d="previous",e="next",f="controls",g=[{name:"Next",classes:"control control-next",direction:1},{name:"Previous",classes:"control control-previous",direction:-1}];return function(){function h(){m=new b}function i(a){m.trigger(a)}function j(b,c,f,g){var h;h=a.createElement(),a.addClass(h,f),c&&a.addAttribue(h,"id",c),g.forEach(function(b){var c=a.createElement("button",b.name);a.addClass(c,b.classes),a.bindEvent(c,"click",function(){var a=b.direction>0?e:d;return i(a),!1},this),a.addElementToDOM(c,h)}),a.addElementToDOM(h,b)}function k(){h()}function l(a,b){return!a||o?!1:(j(a,b,f,g),o=!0,void i(c))}var m,n,o=!1;return n={init:l,get events(){return m}},k(),n}}),define("typemenu",["domutils","dispatcher"],function(a,b){"use strict";const c="initialised";return function(d){function e(){m=new b}function f(a){m.trigger(a)}function g(){return a.createElement()}function h(b,c){a.addElementToDOM(b,c,"start")}function i(a){a.events.on("update",function(){console.log("typemenu.list.update",a.currentItem)})}function j(a,b){console.log("typemenu.init",a,b),p=g(),i(b),h(p,a)}function k(a){return e(),!a||q?!1:(o=a,q=!0,void f(c))}function l(a){console.log("typemenu.addItems",a),a&&o&&j(o,a)}var m,n,o,p,q=!1;return n={addItems:l,get events(){return m}},k(d),n}}),define("app",["config","dispatcher","domutils","jsutils","pagetrans","nav","hammer","prevnext","typemenu","ffo"],function(a,b,c,d,e,f,g,h,i,j){"use strict";function k(){c.setWindowPosition(0,0,100)}function l(a,b,d){console.log("  > app.updateClasses",a," [+",b,"] [-",d,"]"),c.removeClass(a,d),c.addClass(a,b)}function m(){return c.addSingleClassInstance(S,Q)}function n(){l(S,R,"")}function o(){l(S,"",R)}function p(){c.setAttribue(T,ba,""),c.setAttribue(T,aa,"")}function q(){return c.getWindowHash()}function r(a){return a!==q()&&c.setWindowHash(a),q()}function s(){return console.log("app.currentPageIsIndex",T,U,c.hasClass(T,U)),c.hasClass(T,U)}function t(a){console.log(" --> app.updatePageSection",a),r(a),l(T,a,ca.sections.join(" "))}function u(){console.log("app.updateSectionFromNav"),s()&&(console.log("  --> app.updateSectionFromNav",ca.section),t(ca.section))}function v(a){ca.section=a}function w(){ca=new f,ca.events.on("sectionUpdate",u),ca.addTouchController(g),ca.addMouseController(h),ca.addTypeMenu(i),ca.init(V,W,q())}function x(){console.log("app.hashChange",q()),fa&&v(q())}function y(){c.bindEvent(window,"hashchange",function(){x()},this)}function z(a,b){var d,e,f=c.getData($,b),g=c.getData($,a),h=c.getData(_,b),i=c.getData(_,a);d=c.getElement(T).className,e=d.replace(f,g),e=e.replace(h,i),l(T,e,d)}function A(a,b){console.log("pageChangeComplete",a,b),l(T,"",Z),p(),x()}function B(b,c){console.log("app.pageTransitionCompleted",b,c),k(),d.delay(A,a.TRANSITIONS.BASE.DELAY,this,[b,c])}function C(b){console.log("app.pageTransitionFinish",b);var e=c.getData(_,b.newContainer);c.setAttribue(T,aa,e),d.delay(z,Math.abs(a.TRANSITIONS.BASE.DELAY/2),this,[b.newContainer,b.oldContainer])}function D(a,b,c){console.log("app.newPageReady",a,b,c),o()}function E(a){console.log("app.pageTransitionStart",a);var b=c.getData(_,a.oldContainer);c.setAttribue(T,ba,b)}function F(a){console.log("app.pageInitStateChange",a),l(T,Z,"")}function G(a){console.log("app.pageLinkClicked",a),n(),k()}function H(a){a.events.on("linkClicked",G),a.events.on("initStateChange",F),a.events.on("transitionStart",E),a.events.on("transitionFinish",C),a.events.on("transitionCompleted",B),a.events.on("newPageReady",D)}function I(b){da=b,H(da),da.init(Y,X,a.TRANSITIONS.BASE.DELAY)}function J(a){var b=new j(a);b.load().then(function(){l(T,a,"")})}function K(a){return a.replace(/_/g,"-")}function L(a){return a.replace(/(\b[a-z](?!\s))/g,function(a){return a.toUpperCase()})}function M(a){return a=a.toLowerCase(),a=K(a),a=L(a)}function N(){if(a.FONTS)for(var b in a.FONTS)J(M(a.FONTS[b]))}function O(){ea=new b}function P(){console.log("app.init",a),fa=!0,N(),k(),y(),O(),w(),I(e),m()}const Q="loaded",R="loading",S="html",T="body",U="index-body",V=".nav-content",W=".nav-item",X="content-wrapper",Y="page-content",Z="page-transition",$="pageName",_="pageType",aa="data-trans-in",ba="data-trans-out";var ca,da,ea,fa=!1;return{init:P,get events(){return ea}}}),require.config({paths:{jquery:["//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min","../bower_components/jquery/dist/jquery.min"],hammer:["//cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min","../bower_components/hammerjs/hammer.min"],Barba:["//cdnjs.cloudflare.com/ajax/libs/barba.js/1.0.0/barba.min.tyrtyy","../bower_components/barba.js/dist/barba"],ffo:["//cdnjs.cloudflare.com/ajax/libs/fontfaceobserver/2.0.1/fontfaceobserver.min","../bower_components/fontfaceobserver/fontfaceobserver"],svg4everyone:["//cdnjs.cloudflare.com/ajax/libs/svg4everybody/2.1.1/svg4everybody","/bower_components/svg4everybody/dist/svg4everybody.min"],config:"./config/config",domutils:"./utils/DOMUtils",jsutils:"./utils/jsUtils",dispatcher:"./core/dispatcher",itemlist:"./core/itemlist",pagetrans:"./pagetrans",prevnext:"./prevnext",typemenu:"./typemenu",nav:"./nav"},shim:{ffo:{exports:"FontFaceObserver"}}}),require(["app","domutils","svg4everyone","hammer","Barba","ffo"],function(a,b,c,d,e,f){"use strict";function g(){console.log(" ----- Running jQuery %s",$().jquery),console.log(" ----- Depandancies"),console.log("app",a),console.log("domutils",b),console.log("svg4everyone",c),console.log("hammer",d),console.log("Barba",e),console.log("ffo",f)}function h(){return Array.prototype.forEach&&"querySelector"in document&&"localStorage"in window&&"addEventListener"in window?!0:!1}function i(){var a=document.readyState;return"loaded"===a||"interactive"===a||"complete"===a?!0:!1}function j(){c(),a.init()}var k=!0;k!==!1&&window.console||(window.console={},["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeLine","msIsIndependentlyComposed","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"].each(function(a){a in window.console||(window.console[a]=function(){})})),g(),h()&&(i()?j():b.bindEvent(window,"load",j,this))}),define("main",function(){})}();